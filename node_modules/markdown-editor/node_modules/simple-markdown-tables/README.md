# Simple Markdown Tables

The de-facto markdown table format (supported by [PHP Markdown Extra][php], [RedCarpet][redcarpet] / [Github Flavored Markdown][gfm], [MultiMarkdown][mmd] and others) requires use of the pipe character (`|`) to delimit columns and a row of pipe-delimited dashes (`--- | ---`) to separate the header row from other rows. While this is an unambiguous format that opens the door for features like right-aligned columns, it has to be learned, it requires the use of the pipe character (unfamiliar to many end-users) and it is a few steps removed from the tab-delimited format commonly pasted from other applications.

[php]: http://michelf.ca/projects/php-markdown/extra/
[redcarpet]: https://github.com/vmg/redcarpet
[gfm]: https://help.github.com/articles/github-flavored-markdown
[mmd]: https://github.com/fletcher/MultiMarkdown/

**Simple Markdown Tables** is a markdown pre-processor that converts simple, column-aligned tables into markdown table format. It also provides a helper function that converts tab-delimited tables into column-aligned tables.


## Column-Aligned Tables

`simpleTables()`, when passed a string containing column-aligned tables like this:

```
First Name	Last Name	Role
Jack		Sparrow		Pirate
Luke		Skywalker	Jedi
```

will return the tables in markdown table format (with the first row as the header):

```
| First Name      | Last Name       | Role   |
| --------------- | --------------- | ------ |
| Jack            | Sparrow         | Pirate |
| Luke            | Skywalker       | Jedi   |
```

Column-alignment can be done with tabs or spaces, but tabs are recommended because they make it easier to maintain column alignment. Tabs are interpreted as filling out the spacing to the nearest 8 characters, as is their behavior in a `<textarea>` and in most plain text editors (though some code editors may need to be configured to display a tab width of 8 spaces and to not replace tabs with spaces).

**Each column in the first (header) row must be separated by at least 2 spaces** (or 1 tab that expands to more than 1 space). This requirement helps prevent adjacent lines that happen to have spaces that line up from being misinterpreted as tables. So this:

```
This is a test.
This is another test.
```

will not be converted to a markdown table:

```
This is a test.
This is another test.
```

## Tab-Delimited Tables

The helper function `simpleTables.alignColumns()` converts tab-delimited tables that are not column-aligned (such as that pasted from browsers and Word/Excel) into column-aligned tables, converting this:

```
First Name	Last Name	Role
Jack	Sparrow	Pirate
Luke	Skywalker	Jedi
```

into this:

```
First Name	Last Name	Role
Jack		Sparrow		Pirate
Luke		Skywalker	Jedi
```

At this time, `alignColumns()` handles empty cells as well so:

```
First Name	Last Name	Role
Jack		Pirate
Luke	Skywalker	Jedi
```

Will be converted to:

```
First Name	Last Name	Role
Jack				Pirate
Luke		Skywalker	Jedi
```

## Usage

`simpleTables()` can be chained with the [marked](https://github.com/chjj/marked) parser/compiler like this: `var html = marked(simpleTables(content))`. `alignColumns()` can be added to a `<textarea>`'s paste event like this:

```
$('textarea').on('paste', function(evt) {
  setTimeout(function() {
    evt.target.value = simpleTables.alignColumns(evt.target.value);
  }, 0);
});
```

(The `setTimeout()` is necessary because the pasted content is not injected into the textarea until after the paste event.)